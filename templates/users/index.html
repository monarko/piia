<div class="row">
	<div class="col-sm-12">
		<div class="element-wrapper">
			<h6 class="element-header">
				Users
			</h6>
			<div class="element-box">
				<div class="element-actions">
                    <a class="btn btn-primary btn" href="<%= usersCreatePath() %>" role="button">New User</a>
                </div>
				<!-- controls above table -->
				<div class="controls-above-table">
					<div class="row">
						<div class="col-sm-9">
							<form class="form-inline">
								<input class="form-control form-control-sm rounded bright" placeholder="Search" type="text"><select class="form-control form-control-sm rounded bright">
									<option selected="selected" value="">
										Select Role
									</option>
									<option value="admin">
										Admin
									</option>
									<option value="study_coordinator">
										Study Co-ordinator
									</option>
									<option value="screener">
										Screener
									</option>
									<option value="over-reader">
										Over Reader
									</option>
								</select>
                                <button type="submit" class="btn btn-info btn-rounded"><%= t("button_filter_status") %></button>
							</form>
						</div>
					</div>
				</div>
				<div class="table-responsive">
					<table class="table table-lg table-striped">
						<thead>
							<tr>
								<th class="text-center">
									<input class="form-control" type="checkbox">
								</th>
								<th>
									Email
								</th>
								<th>
									Name
								</th>
								<th>
									Mobile
								</th>
								<th>
									Site
								</th>
								<th>
									Role
								</th>
								<th>
									Registration Date
								</th>
								<th>
									Actions
								</th>
							</tr>
						</thead>
						<tbody>
							<%= for (user) in users { %>
							<tr>
								<td class="text-center">
									<input class="form-control" type="checkbox">
								</td>
								<td>
									<%= user.Email %>
								</td>
								<td>
									<%= user.Name %>
								</td>
								<td>
									<%= user.Mobile %>
								</td>
								<td class="text-center">
									<%= user.Site %>
								</td>
								<td class="text-center">
									<%= if (user.Admin) { %>
									<div class="badge badge-primary">
										Admin
									</div>
									<% } %>

									<%= if (user.Permission.StudyCoordinator) { %>
									<div class="badge badge-primary">
										Study Co-ordinator
									</div>
									<% } %>

									<%= if (user.Permission.Screening) { %>
									<div class="badge badge-warning">
										Screener
									</div>
									<% } %>

									<%= if (user.Permission.OverRead) { %>
									<div class="badge badge-info">
										Over Reader
									</div>
									<% } %>

									<%= if (user.Permission.ReferralTracker) { %>
										<div class="badge badge-info">
											Referral Tracker
										</div>
									<% } %>
								</td>
								<td class="text-center">
									<%= user.CreatedAt.Format("02-Jan-2006") %>
								</td>
								<td class="row-actions">
									<%= if (user.ID.String() != current_user.ID.String()) { %>
									<a href="<%= usersEditPath({uid: user.ID}) %>"><i class="os-icon os-icon-pencil-1"></i></a>
									<% } %>
									<!-- <a href="#"><i class="os-icon os-icon-grid-10"></i></a> -->
									<!--<a class="danger" href="#"><i class="os-icon os-icon-ui-15"></i></a>-->
								</td>
							</tr>
							<% } %>
						</tbody>
					</table>
				</div>

				<div class="controls-below-table">
                    <div class="table-records-info">
                        <%= t("pagination_title") %>
                        <%= pagination.Offset + 1 %> -
                        <%= pagination.Offset + pagination.CurrentEntriesSize %> of
                        <%= pagination.TotalEntriesSize %>
                        |
                        <%= t("pagination_view_label") %>
                        <a href="?per_page=10"><%= t("pagination_options_10") %></a> /
                        <a href="?per_page=20"><%= t("pagination_options_20") %></a> /
                        <a href="?per_page=50"><%= t("pagination_options_50") %></a>
                        <%= t("pagination_perpage_label") %>
                    </div>
                    <div class="table-records-pages">
                        <style>
                            .page-link {
                                border: none;
                                padding: 0 2px;
                            }
                        </style>
                        <%= paginator(pagination, {"class":"", "previousContent": "Previous", "nextContent": "Next"}) %>
                    </div>
                </div>
			</div>
		</div>
	</div>
</div>
